---
import Layout from '../layouts/Layout.astro';
import RegisterForm from '../components/auth/RegisterForm.astro';
---

<Layout title="Skapa konto">
  <main class="min-h-screen bg-gradient-to-br from-primary to-blue-600 relative flex items-center justify-center p-4 overflow-hidden">
    <!-- Background effects -->
    <div class="falling-circles">
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle"></div>
      <div class="circle giant"></div>
    </div>

    <!-- Blur overlay -->
    <div class="blur-overlay"></div>

    <!-- Particles -->
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>

    <!-- Register form container -->
    <div class="relative z-10 bg-white bg-opacity-10 backdrop-blur-md rounded-lg shadow-lg w-full max-w-md p-8 border border-white border-opacity-20">
      <div class="glow-effect"></div>
      <h1 class="text-2xl font-bold text-center text-white mb-8">Skapa konto p√• Axento</h1>
      <RegisterForm />
    </div>
  </main>

  <style>
    /* Blur overlay */
    .blur-overlay {
      position: absolute;
      inset: 0;
      backdrop-filter: blur(3px);
      background: rgba(255, 255, 255, 0.05);
      z-index: 5;
      pointer-events: none;
    }

    .falling-circles {
      position: absolute;
      inset: 0;
      overflow: hidden;
      z-index: 1;
    }

    .circle {
      position: absolute;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
      border-radius: 50%;
      animation: fall linear infinite;
      top: -200px;
      opacity: 0;
      will-change: transform, opacity;
    }

    .circle.giant {
      width: 400px;
      height: 400px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(15px);
      top: -600px;
    }

    .circle:nth-child(1) {
      width: 150px;
      height: 150px;
      left: 10%;
      animation-duration: 15s;
      animation-delay: -7s;
    }

    .circle:nth-child(2) {
      width: 100px;
      height: 100px;
      left: 30%;
      animation-duration: 18s;
      animation-delay: -5s;
    }

    .circle:nth-child(3) {
      width: 80px;
      height: 80px;
      left: 50%;
      animation-duration: 13s;
      animation-delay: -9s;
    }

    .circle:nth-child(4) {
      width: 120px;
      height: 120px;
      left: 70%;
      animation-duration: 16s;
      animation-delay: -3s;
    }

    .circle:nth-child(5) {
      width: 90px;
      height: 90px;
      left: 85%;
      animation-duration: 14s;
      animation-delay: -6s;
    }

    .circle:nth-child(6) {
      left: 45%;
      animation-duration: 25s;
      animation-delay: -15s;
    }

    @keyframes fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: var(--start-opacity, 0.5);
      }
      100% {
        transform: translateY(1200px) rotate(360deg);
        opacity: var(--end-opacity, 0.3);
      }
    }

    .particles {
      position: absolute;
      inset: 0;
      z-index: 2;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 3px;
      height: 3px;
      background: white;
      border-radius: 50%;
      animation: float 20s linear infinite;
      opacity: 0.3;
    }

    .particle:nth-child(1) { --particle-offset: 20%; }
    .particle:nth-child(2) { --particle-offset: 50%; }
    .particle:nth-child(3) { --particle-offset: 80%; }

    @keyframes float {
      0% {
        transform: translate(calc(var(--particle-offset) - 10%), -10%) rotate(0deg);
      }
      100% {
        transform: translate(calc(var(--particle-offset) + 10%), 110%) rotate(360deg);
      }
    }

    .glow-effect {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1), transparent 70%);
      opacity: 0;
      transition: opacity 0.5s;
      pointer-events: none;
    }

    /* Custom styles for circles */
    .circle:nth-child(odd) {
      --start-opacity: 0.6;
      --end-opacity: 0.2;
    }

    .circle:nth-child(even) {
      --start-opacity: 0.4;
      --end-opacity: 0.1;
    }

    /* Container hover effects */
    main:hover .glow-effect {
      opacity: 1;
    }

    :root {
      color-scheme: dark;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const circles = document.querySelectorAll('.circle');
      circles.forEach(circle => {
        circle.style.opacity = '1';
      });
    });
  </script>
</Layout>